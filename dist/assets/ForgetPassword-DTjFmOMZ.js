import{a as c,r as d,j as e,y as i}from"./index-DoYqLEuC.js";import{u}from"./formik.esm-DO93-7Li.js";import{c as h,a as p}from"./index.esm-ikoG5Ndk.js";import{a as f}from"./api-BDs2Ot40.js";function y(){const o=c(),[r,s]=d.useState(!1);async function l(m){try{s(!0);let{data:t}=await f.post("/api/v1/users/forgotPassword",m);console.log(t.status),localStorage.setItem("resetToken",t.token),i.success("OTP has been sent to your email"),o("/otp",{replace:!0}),s(!1)}catch{s(!1),i.error("Failed to send OTP, please try again!")}}const n=h({email:p().email().required("Email is required")});let a=u({initialValues:{email:""},validationSchema:n,onSubmit:l});return e.jsx("section",{className:"forget-password my-5 py-5",children:e.jsx("div",{className:"container mt-5 pt-4",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsxs("form",{className:"p-4",onSubmit:a.handleSubmit,children:[e.jsx("h3",{className:"text-center mb-4",children:"Forgot Password"}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"email",id:"email",placeholder:"Enter your email",className:"form-control",value:a.values.email,onChange:a.handleChange,onBlur:a.handleBlur}),e.jsx("label",{htmlFor:"email",children:"Email"}),a.errors.email&&a.touched.email?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:a.errors.email}):""]}),e.jsx("button",{type:"submit",className:"btn btn-danger rounded-0 text-center mx-auto w-100",disabled:r||!(a.isValid&&a.dirty),children:r?"Loading...":"Send Reset Link"})]})})})})})}export{y as default};
