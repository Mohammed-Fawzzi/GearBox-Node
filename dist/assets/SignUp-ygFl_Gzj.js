import{a as c,r as u,j as e,L as h,y as l}from"./index-CkFDTInH.js";import{u as p}from"./formik.esm-DURCDBCU.js";import{c as f,a as s,b as x}from"./index.esm-DHsu0I8t.js";import{a as g}from"./api-DZWw9RV8.js";function b(){const i=c(),[n,r]=u.useState(!1);async function o(t){try{r(!0);const{data:m}=await g.post("/api/v1/users/signup",t);l.success("Account created successfully."),i("/sign-in"),r(!1)}catch{r(!1),l.error("Sign up failed, please try again!")}}const d=f({name:s().min(3,"Name must be at least 3 characters").required("Name is required"),email:s().email("Invalid email format").required("Email is required"),password:s().matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Password must be at least 8 characters, include a letter, number, and special character.").required("Password is required"),passwordConfirm:s().oneOf([x("password")],"Passwords must match").required("Confirm Password is required")}),a=p({initialValues:{name:"",email:"",password:"",passwordConfirm:""},validationSchema:d,onSubmit:o});return e.jsx("section",{className:"sign-up my-5 py-5",children:e.jsx("div",{className:"container mt-5 pt-5",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsxs("form",{className:"p-4",onSubmit:a.handleSubmit,children:[e.jsx("h3",{className:"text-center mb-4",children:"Create Account"}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"text",id:"name",placeholder:"Name",className:"form-control",value:a.values.name,onChange:a.handleChange,onBlur:a.handleBlur}),e.jsx("label",{htmlFor:"name",children:"Name"}),a.errors.name&&a.touched.name?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:a.errors.name}):null]}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"email",id:"email",placeholder:"Email",className:"form-control",value:a.values.email,onChange:a.handleChange,onBlur:a.handleBlur}),e.jsx("label",{htmlFor:"email",children:"Email"}),a.errors.email&&a.touched.email?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:a.errors.email}):null]}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"password",id:"password",placeholder:"Password",className:"form-control",value:a.values.password,onChange:a.handleChange,onBlur:a.handleBlur}),e.jsx("label",{htmlFor:"password",children:"Password"}),a.errors.password&&a.touched.password?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:a.errors.password}):null]}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"password",id:"passwordConfirm",placeholder:"Confirm Password",className:"form-control",value:a.values.passwordConfirm,onChange:a.handleChange,onBlur:a.handleBlur}),e.jsx("label",{htmlFor:"passwordConfirm",children:"Confirm Password"}),a.errors.passwordConfirm&&a.touched.passwordConfirm?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:a.errors.passwordConfirm}):null]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{children:"Already have an account? "}),e.jsx(h,{to:"/sign-in",className:"main-color",children:"Sign in"})]}),e.jsx("button",{type:"submit",className:"btn btn-danger rounded-0 text-center mx-auto w-100",disabled:n||!(a.isValid&&a.dirty),children:n?"Loading...":"Create Account"})]})})})})})}export{b as default};
