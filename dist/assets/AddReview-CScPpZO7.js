import{a as v,r as s,j as e,y as n}from"./index-DoYqLEuC.js";import{a as p}from"./api-BDs2Ot40.js";import{H as g}from"./Helmet-lAKtP1rb.js";function w(){let o=v();const[l,t]=s.useState(!1),[r,c]=s.useState(""),[i,d]=s.useState("");async function m(){try{t(!0);const a=localStorage.getItem("userToken"),u=localStorage.getItem("spaceId"),{data:h}=await p.post(`/api/v1/spaces/${u}/reviews`,{review:r,rating:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});console.log(h.data.status),n.success("Review added successfully"),o("/spaces",{replace:!0}),t(!1)}catch{t(!1),n.error("Failed to add review")}}return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx("title",{children:"Add Review"})}),e.jsx("section",{className:"add-review my-5 py-5",children:e.jsx("div",{className:"container mt-5 pt-3",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"card p-4 shadow border-danger",children:[e.jsx("h3",{className:"text-center mb-4",children:"Add Your Review"}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("textarea",{value:r,onChange:a=>c(a.target.value),placeholder:"Write your review here",className:"form-control",id:"review",style:{height:"150px"}}),e.jsx("label",{htmlFor:"review",children:"Review"})]}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"number",value:i,onChange:a=>d(a.target.value),max:"5",min:"1",placeholder:"Rate out of 5",className:"form-control",id:"rating"}),e.jsx("label",{htmlFor:"rating",children:"Rating (out of 5)"})]}),e.jsx("button",{onClick:m,className:"btn btn-danger rounded-0 w-100",children:l?"Submitting...":"Submit Review"})]})})})})})]})}export{w as default};
