import{r as t,j as e,L as d,y as o}from"./index-DoYqLEuC.js";import{a as m}from"./api-BDs2Ot40.js";import{H as x}from"./Helmet-lAKtP1rb.js";function j(){const[n,i]=t.useState([]),[c,a]=t.useState(!1);async function r(){try{a(!0);const{data:s}=await m.get("/api/v1/spaces");i(s.data.spaces),a(!1)}catch{a(!1),o.error("Failed to fetch spaces")}}function l(s){localStorage.setItem("spaceId",s)}return t.useEffect(()=>{r()},[]),e.jsxs(e.Fragment,{children:[e.jsx(x,{children:e.jsx("title",{children:"Spaces"})}),e.jsx("section",{className:"spaces my-5 py-5",children:e.jsxs("div",{className:"container mt-5 pt-3",children:[e.jsx("h3",{className:"text-center mb-4",children:"Spaces"}),c?e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"spinner-border text-danger",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.length===0?e.jsx("p",{className:"text-center text-muted",children:"No spaces found"}):e.jsx("div",{className:"row g-4",children:n.map(s=>e.jsx("div",{className:"col-12 col-md-4",onClick:()=>l(s._id),children:e.jsx(d,{to:`/spaces/${s._id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"space-card p-4 bg-white shadow-sm rounded",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("img",{src:s.imageCover&&s.imageCover!=="undefined"?`http://localhost:3000/img/spaces/${s.imageCover}`:"https://placehold.co/600x400",alt:s.name,className:"img-fluid rounded",style:{height:"200px",objectFit:"cover"}})}),e.jsxs("h5",{className:"fw-semibold text-danger text-center pb-2",children:["[ ",s.name," ]"]}),e.jsxs("p",{className:"mb-4 text-muted",children:[e.jsx("strong",{children:"ğŸ“ Description:"})," ",s.description]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("span",{className:"badge bg-secondary rounded-0 p-2",children:["ğŸ“ ",s.size]}),e.jsx("span",{className:`badge rounded-0 p-2 ${s.available?"bg-success":"bg-danger"}`,children:s.available?"âœ… Available":"âŒ Unavailable"})]}),e.jsxs("p",{className:"text-muted mb-0 mt-auto",children:[e.jsx("strong",{children:"â­ Rating:"})," ",s.ratingsAverage," (",s.ratingsQuantity,")"]})]})})},s._id))})]})})]})}export{j as default};
