import{a as d,r as m,j as e,y as o}from"./index-DoYqLEuC.js";import{u}from"./formik.esm-DO93-7Li.js";import{c as p,a as h}from"./index.esm-ikoG5Ndk.js";import{a as f}from"./api-BDs2Ot40.js";function j(){const i=d(),[r,s]=m.useState(!1);async function n(c){try{s(!0);let{data:a}=await f.post("/api/v1/users/verifyOTP",c);console.log(a.status),localStorage.setItem("resetToken",a.token),o.success("OTP verified successfully"),i("/reset-password",{replace:!0}),s(!1)}catch{s(!1),o.error("Invalid OTP, please try again!")}}const l=p({otp:h().required("OTP is required").matches(/^\d{6}$/,"OTP must be a 6-digit number")});let t=u({initialValues:{otp:""},validationSchema:l,onSubmit:n});return e.jsx("section",{className:"otp my-5 py-5",children:e.jsx("div",{className:"container mt-5 pt-4",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsxs("form",{className:"p-4",onSubmit:t.handleSubmit,children:[e.jsx("h3",{className:"text-center mb-4",children:"Enter OTP"}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"text",id:"otp",placeholder:"Enter your OTP",className:"form-control",value:t.values.otp,onChange:t.handleChange,onBlur:t.handleBlur}),e.jsx("label",{htmlFor:"otp",children:"OTP"}),t.errors.otp&&t.touched.otp?e.jsx("div",{className:"alert alert-danger p-2 my-2 rounded-0",children:t.errors.otp}):""]}),e.jsx("button",{type:"submit",className:"btn btn-danger rounded-0 text-center mx-auto w-100",disabled:r||!(t.isValid&&t.dirty),children:r?"Verifying...":"Verify OTP"})]})})})})})}export{j as default};
