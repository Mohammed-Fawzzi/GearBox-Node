import{r as c,j as e,y as d}from"./index-DUA-Fp3y.js";import{a as m}from"./api-CbkES3Ey.js";import{H as h}from"./Helmet-Cev6nNvG.js";function j(){const[r,a]=c.useState(!1),[n,o]=c.useState([]);async function i(){try{a(!0);const s=localStorage.getItem("userToken"),{data:t}=await m.get("/api/v1/bookings/my-bookings",{headers:{Authorization:`Bearer ${s}`}});o(t.data.packages),a(!1)}catch{a(!1),d.error("Failed to fetch bookings")}}return c.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsx(h,{children:e.jsx("title",{children:"Your Paid Bookings"})}),e.jsx("section",{className:"custom-bookings my-5 py-5",children:e.jsxs("div",{className:"container mt-5 pt-3",children:[e.jsx("h3",{className:"text-center mb-4",children:"Your Paid Bookings"}),r?e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"spinner-border text-danger",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.length===0?e.jsx("p",{className:"text-center text-muted",children:"No bookings found"}):e.jsx("div",{className:"row g-4",children:n.map(s=>e.jsx("div",{className:"col-12 col-md-6 col-lg-4 mb-4 h-100",children:e.jsxs("div",{className:"booking-card p-4 bg-white rounded-lg w-100 h-100 d-flex flex-column border border-danger rounded-3",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("img",{src:s.booking.space?`http://localhost:3000/img/spaces/${s.booking.space.imageCover}`:"https://placehold.co/600x400",alt:s.booking.space?s.booking.space.name:"Package",className:"img-fluid rounded",style:{height:"250px",objectFit:"cover"}})}),e.jsx("h5",{className:"fw-semibold text-danger text-center pb-2",children:s.booking.space?`[ ${s.booking.space.name} ]`:`[ ${s.booking.name} ]`}),e.jsxs("p",{className:"text-muted",children:[e.jsx("strong",{children:"ðŸ’² Price:"})," $",s.price]}),e.jsxs("p",{className:"text-muted",children:[e.jsx("strong",{children:"ðŸ“… Booking Date:"})," ",new Date(s.createdAt).toLocaleString()]}),e.jsxs("p",{className:"text-muted",children:[e.jsx("strong",{children:"ðŸ’³ Paid:"})," ",s.paid?"Yes":"No"]}),s.booking.space&&e.jsxs("div",{className:"pb-3",children:[e.jsx("strong",{children:"ðŸ›‹ Space:"})," ",s.booking.space.name]}),s.booking.technology&&s.booking.technology.length>0&&e.jsxs("div",{className:"pt-3",children:[e.jsx("strong",{children:"ðŸ”§ Technologies:"}),e.jsx("ul",{className:"list-unstyled",children:s.booking.technology.map((t,l)=>e.jsx("li",{className:"mb-2",children:e.jsx("span",{className:"d-block",children:t.name})},l))})]}),e.jsx("button",{className:"btn btn-success mt-auto",disabled:!0,children:"Paid âœ…"})]})},s._id))})]})})]})}export{j as default};
